---
title: "Sentiment Analysis twitter election"
author: "Fahrozi" 
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{sentiment-analysis}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  warning = FALSE,
  message = FALSE,
  comment = "#>"
)
```

## Exploring the Indonesia census data 2010

This vignette documents used how to explore and see the sentiment analysis about the legislative election in Indonesia, data collected from the twitter tweets and used official twitter APIs.


```{r sentimentanalysis_aboutelection in Indonesia, eval = FALSE}
library(twitteR)
library(RSentiment)
library(sentiment)
library(tm)
library(NLP)
library(Rstem)
library(plyr)
library(ggplot2)
library(wordcloud)
library(RColorBrewer)
library(tidyverse)
library(scales)
library(knitr)
library(indoelectdata)
data(Some_tweets)
data(sentiment_df)
```
#use twitter APIs to get the data
```{r twitte_APIs}
api_key <-""
api_secret<-""
access_token<-""
access_token_secret<-""
```
#plot about emotion from the tweets
this part to answer the emotion that we got from the keyword "pemilu legilatif" tweets
```{r plot_thetweets}
ggplot(sentiment_df,
       aes(x=emotion)) +
  geom_bar(aes(y=..count.., fill=emotion)) +
  scale_fill_brewer(palette="Dark2") +
  labs(x="emotion categories",
     y="number of tweets") +
  labs( "Sentiment Analysis)",
  plot.title = element_text(size=12))

```

from the result above show that mostly emotions that got from the keyword tweets "pemilu legislative" from the result got that there are unknown and anger emotion.

#polarities from the tweets
this part to answer the polarities from the tweets
```{r sentimentanalysis_polarities}
ggplot(sentiment_df, 
       aes(x=polarity)) +
  geom_bar(aes(y=..count.., fill=polarity)) +
  scale_fill_brewer(palette="RdGy") +
  labs(x="polarity categories", y="number of tweets") +
  labs( "Sentiment Analysis)",
  plot.title = element_text(size=12))

```
from the results we can see that there are 150 positive tweets and others tweets were negative.

#wordscloud
in this part showed the words that mostly people wrote on the twitter about election
```{r wordcloud}
emos = levels(factor(sentiment_df$emotion))
nemo = length(emos)
emo.docs = rep("", nemo)
for (i in 1:nemo)
{
tmp = some_txt[emotion == emos[i]]
emo.docs[i] = paste(tmp, collapse=" ")
}
emo.docs = removeWords(emo.docs, stopwords("english"))
corpus = Corpus(VectorSource(emo.docs))
tdm = TermDocumentMatrix(corpus)
tdm = as.matrix(tdm)
colnames(tdm) = emos
comparison.cloud(tdm, colors = brewer.pal(nemo, "Dark2"),
scale = c(3,.5), random.order = FALSE, title.size = 1.5)
```

